<div class="game-listing" id="games">
	<section class="section fill-lightest nav-only" v-if="!hideFilters">
		<div class="container">
			<app-game-filtering-widget :filtering="listing.filteringContainer" />
		</div>
	</section>

	<app-ad-placement v-if="showAds" :visible-desktop="true" />

	<div class="container" v-if="!hideFilters">
		<div class="clearfix">

			<app-game-filtering-tags :filtering="listing.filteringContainer" />

		</div>
	</div>

	<!--
		Use ng-show so that the ui-view gets loaded in.
	-->
	<section class="section">
		<div class="container-lg">

			<app-nav-tab-list v-if="!hideSectionNav">
				<ul>
					<li v-if="includeFeaturedSection">
						<router-link
							:to="{ name: $route.name, params: { section: 'featured' } }"
							:class="{ active: $route.params.section === 'featured' }"
							gj-no-auto-scroll
							v-app-track-event="`game-list:section-selector:featured`"
							>
							<translate>games.list.sections_selector_featured</translate>
						</router-link>
					</li>
					<li>
						<router-link
							:to="{ name: $route.name, params: { section: null } }"
							:class="{ active: !$route.params.section }"
							gj-no-auto-scroll
							v-app-track-event="`game-list:section-selector:hot`"
							>
							<translate>games.list.sections_selector_hot</translate>
						</router-link>
					</li>
					<li>
						<router-link
							:to="{ name: $route.name, params: { section: 'best' } }"
							:class="{ active: $route.params.section === 'best' }"
							gj-no-auto-scroll
							v-app-track-event="`game-list:section-selector:best`"
							>
							<translate>games.list.sections_selector_best</translate>
						</router-link>
					</li>
					<li>
						<router-link
							:to="{ name: $route.name, params: { section: 'new' } }"
							:class="{ active: $route.params.section === 'new' }"
							gj-no-auto-scroll
							v-app-track-event="`game-list:section-selector:new`"
							>
							<translate>games.list.sections_selector_new</translate>
						</router-link>
					</li>
				</ul>

				<div slot="meta">
					<div
						v-if="listing.isBootstrapped"
						:class="{ 'text-right': !Screen.isXs }"
						>
						<translate v-if="listing.gamesCount === 0">
							games.list.games_count_none
						</translate>

						<translate
							v-if="listing.gamesCount > 0"
							:translate-params="{ count: number( listing.gamesCount ), page: number( listing.currentPage ) }"
							:translate-n="listing.gamesCount"
							translate-plural="Page %{ page } of %{ count } games."
							translate-comment="%{ page } expands to the current page of games"
							>
							%{ count } game.
						</translate>
					</div>
				</div>

			</app-nav-tab-list>

			<div v-if="listing.isBootstrapped">
				<div v-if="listing.gamesCount">

					<app-loading-fade :is-loading="isLoading">
						<slot />
					</app-loading-fade>

					<app-pagination
						class="text-center"
						:items-per-page="listing.perPage"
						:total-items="listing.gamesCount"
						:current-page="listing.currentPage"
						@pagechange="Scroll.to( 'games', { animate: false } )"
						/>

				</div>
			</div>
			<div v-else>

				<app-game-grid-placeholder :num="16" />

			</div>

		</div>

		<div class="container anim-fade-in"
			v-if="listing.isBootstrapped && !listing.gamesCount"
			>
			<div class="alert alert-warning">
				<div class="container">
					<p>
						<translate>No games match your filters. Zoinks!</translate>
					</p>
				</div>
			</div>
		</div>
	</section>

	<section class="section section-thin" v-if="showAds && !GJ_IS_CLIENT && !Screen.isXs">
		<app-ad size="leaderboard" />
	</section>
</div>
