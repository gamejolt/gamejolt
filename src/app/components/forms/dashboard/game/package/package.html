<form gj-form="formModel" name="packageForm">

	<div ng-if="!isLoaded">
		<gj-loading></gj-loading>
	</div>

	<div ng-if="isLoaded">
		<form-group name="title" label="{{ ::'dash.games.packages.form.title_label' | translate }}">
			<p class="help-block" translate="dash.games.packages.form.title_help_html"></p>

			<div ng-if="!formState.showTitleInput">
				<div class="form-control-static">
					<code>{{ formModel.title }}</code>
				</div>

				<a class="i-button light" ng-click="formState.showTitleInput = true">
					<span class="jolticon jolticon-edit"></span>
					{{ ::'dash.games.packages.form.title_change_button' | translate }}
				</a>
			</div>

			<div ng-if="formState.showTitleInput">
				<input
					form-control="text"
					ng-maxlength="150"
					gj-form-validate-availability="/web/dash/developer/games/packages/check-field-availability/{{ game.id }}/title"
					>

				<control-errors></control-errors>
			</div>
		</form-group>

		<form-group name="description" label="{{ ::'dash.games.packages.form.description_label' | translate }}" optional="true">
			<p class="help-block" translate="dash.games.packages.form.description_help_html"></p>

			<div ng-if="!formState.showDescriptionInput">
				<a class="i-button light" ng-click="formState.showDescriptionInput = true">
					<span class="jolticon jolticon-edit"></span>
					{{ ::'dash.games.packages.form.description_change_button' | translate }}
				</a>
			</div>

			<div ng-if="formState.showDescriptionInput">
				<textarea form-control rows="2" ng-maxlength="750"></textarea>
				<control-errors></control-errors>
			</div>
		</form-group>

		<button gj-form-submit-button class="i-button" ng-disabled="!packageForm.$valid" ng-click="onSubmit()">
			<span class="jolticon" ng-class="method == 'add' ? 'jolticon-add' : 'jolticon-edit'"></span>
			{{ ::'dash.games.packages.form.' + (method == 'add' ? 'add' : 'save') + '_package_button' | translate }}
		</button>
	</div>

</form>
